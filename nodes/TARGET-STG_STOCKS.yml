fileVersion: 1
id: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
name: STG_STOCKS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 748060e3-2bdd-47fe-a1ff-eb29ecffd0a0
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: meta_currency
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"currency\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 4b7cfbd2-0637-49b3-91fa-4511ed47261c
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: meta_exchange
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"exchange\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 3f9fb753-9f25-45e4-90a2-3c2f43176f99
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: meta_exchange_timezone
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"exchange_timezone\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 3c26a01f-193d-4883-a838-64be873d7128
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: meta_interval
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"interval\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 1b935cee-fd55-4a7a-aab2-37a720f73032
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: meta_mic_code
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"mic_code\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 261618c6-dfce-4dc9-ad9e-bec2b0da3254
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: meta_symbol
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"symbol\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: c2d97ece-eb74-40ad-b14f-ace940e67f9b
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: meta_type
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"type\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 23b1dfc2-cddf-4a9d-b83b-1171fb1ac710
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: status
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"status\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: bab1a34f-543a-4581-a5c2-2b979d656b61
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: values_close
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"close\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 7ac57520-d055-4cd7-b6d9-791ad3fd551a
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: values_datetime
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"datetime\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: a10555d3-4143-4041-864b-09de208e1640
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: values_high
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"high\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 290bce40-ee61-4504-b402-eb60e1cd2c53
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: values_low
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"low\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 40a424ce-8783-413e-843e-b0aadcb591a1
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: values_open
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"open\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 6a9750ad-1dd7-4bcc-ae00-212a0e1a1c0b
          stepCounter: 0f4f5310-fd97-4d5b-b4f5-f45cfe500097
        config: {}
        dataType: STRING
        description: ""
        name: values_volume
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"volume\"::STRING"
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          RAW_STOCKS: b86b7204-0b4c-47a9-be7d-e259cbaa898a
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE
            nodeName: RAW_STOCKS
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE', 'RAW_STOCKS') }} "RAW_STOCKS", 
            lateral flatten(input => "CONTENT":"values", OUTER => TRUE) "CONTENT_values" where "status" = 'ok'
        name: STG_STOCKS
        noLinkRefs: []
  name: STG_STOCKS
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
