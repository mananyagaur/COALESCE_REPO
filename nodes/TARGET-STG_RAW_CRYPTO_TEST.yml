fileVersion: 1
id: 4ce5d4b6-4506-409f-9b17-225d97f34725
name: STG_RAW_CRYPTO_TEST
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: d7373b16-ad89-4a22-ab0b-d4a86dd64f66
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: meta_currency_base
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"currency_base\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 34632901-4e9a-4eb1-8ee5-18b8696ffd65
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: meta_currency_quote
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"currency_quote\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 8cdc4ff8-8af4-4198-bfa1-0eb2f43a035d
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: meta_exchange
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"exchange\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 82c1fba1-ec3e-486a-8c1a-5cb6705c975d
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: meta_interval
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"interval\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: fa8ead3e-5689-42fa-9dd6-c6def9a950c2
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: meta_symbol
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"symbol\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 5b17fd6a-647b-4eb1-b80f-418d718d366d
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: meta_type
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"type\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 1852bc83-1e1f-49ae-8dba-64acdaf01505
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: status
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"status\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: f7a1af2d-5c4b-4188-bb5a-eb76b4283600
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: values_close
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"CONTENT_values\".value:\"close\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: fbd7b74a-80d9-465c-9b76-df4855742865
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: values_datetime
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"CONTENT_values\".value:\"datetime\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 3a9148a7-9716-4514-a3c0-623558abe843
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: values_high
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"CONTENT_values\".value:\"high\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 8f6df742-04d9-452e-97c9-acf9bafaa21f
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: values_low
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"CONTENT_values\".value:\"low\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 85ab0073-9f6c-4d54-8d1c-b2928d6cae89
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        description: ""
        name: values_open
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"CONTENT_values\".value:\"open\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: f825068b-965d-4f7f-9b8b-4a922ed3c04a
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        defaultValue: ""
        description: ""
        keyColumnType: None
        name: meta_currency
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
        systemColumnType: None
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 04458c3d-2f02-438d-a9e5-a1c6c80e4b61
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        defaultValue: ""
        description: ""
        keyColumnType: None
        name: meta_exchange_timezone
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
        systemColumnType: None
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: cc98f5f7-4d93-4c75-8675-d0f6e21efd68
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        defaultValue: ""
        description: ""
        keyColumnType: None
        name: meta_mic_code
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
        systemColumnType: None
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 1ce3d6c7-7cb5-4be2-853d-78dc092a4e81
          stepCounter: 4ce5d4b6-4506-409f-9b17-225d97f34725
        config: {}
        dataType: STRING
        defaultValue: ""
        description: ""
        keyColumnType: None
        name: values_volume
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
        systemColumnType: None
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          RAW_CRYPTO: ee0e7ce3-9abe-430c-84f3-a368ad01b884
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE
            nodeName: RAW_CRYPTO
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE', 'RAW_CRYPTO') }} "RAW_CRYPTO", 
            lateral flatten(input => "CONTENT":"values", OUTER => TRUE) "CONTENT_values" where "status"='ok' 
        name: STG_RAW_CRYPTO_TEST
        noLinkRefs: []
  name: STG_RAW_CRYPTO_TEST
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
