fileVersion: 1
id: 4facae75-010b-4988-9dd9-3f1bf8449d86
name: STG_CRYPTO
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 7f8c87b2-cb7b-4df8-9fb1-ab129530c9e9
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: meta_currency_base
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"currency_base\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 99bf8573-27cf-469b-9fed-2df72c0c9eb1
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: meta_currency_quote
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"currency_quote\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 335b1a00-5f33-41c7-a755-f2228bdbeed4
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: meta_exchange
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"exchange\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: e43f6d2a-7edd-4749-9b43-91f72b1f2215
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: meta_interval
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"interval\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 082fea5b-4552-40f0-8f3d-d2a3d89549d3
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: meta_symbol
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"symbol\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 8a5b25e2-629b-4243-9795-dfb6b242c718
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: meta_type
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"meta\".\"type\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 734c3cfa-e0b1-4bbf-93d1-7eebb7d77a13
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: status
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"RAW_CRYPTO\".\"CONTENT\":\"status\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: fe607f61-1fc2-4861-aea9-c135e8df8787
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: values_close
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"CONTENT_values\".value:\"close\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: de25ee00-2ab8-4501-a93a-c77501a0db4b
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: values_datetime
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"CONTENT_values\".value:\"datetime\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 9d49ad87-8dfb-4233-9e37-b6b92cfb21ad
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: values_high
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"CONTENT_values\".value:\"high\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 40f1573d-348d-4c29-97ae-ca8b64851ffe
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: values_low
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"CONTENT_values\".value:\"low\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 9cfa35d3-caf8-49c8-9097-37bf91569639
          stepCounter: 4facae75-010b-4988-9dd9-3f1bf8449d86
        config: {}
        dataType: STRING
        description: ""
        name: values_open
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 6787157b-e188-4983-bb24-b11b56847e92
                stepCounter: ee0e7ce3-9abe-430c-84f3-a368ad01b884
            transform: "\"CONTENT_values\".value:\"open\"::STRING"
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          RAW_CRYPTO: ee0e7ce3-9abe-430c-84f3-a368ad01b884
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE
            nodeName: RAW_CRYPTO
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE', 'RAW_CRYPTO') }} "RAW_CRYPTO", 
            lateral flatten(input => "CONTENT":"values", OUTER => TRUE) "CONTENT_values" where "status" = 'ok'
        name: STG_CRYPTO
        noLinkRefs: []
  name: STG_CRYPTO
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
