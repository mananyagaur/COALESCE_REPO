fileVersion: 1
id: af4b6a35-6e90-4b10-80bd-2b626a2e8841
name: STG_FOREX
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 31fdd415-d04f-4ae2-a55f-adbff6587c6c
          stepCounter: af4b6a35-6e90-4b10-80bd-2b626a2e8841
        config: {}
        dataType: STRING
        description: ""
        name: meta_currency_base
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29eb2aa0-046a-4641-9439-7b0c51b6cdb2
                stepCounter: 98546d1a-ef43-4254-ac85-76fa48965637
            transform: "\"RAW_FOREX\".\"CONTENT\":\"meta\".\"currency_base\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: b693ca3c-e8f7-42de-97ec-e5daed0479a9
          stepCounter: af4b6a35-6e90-4b10-80bd-2b626a2e8841
        config: {}
        dataType: STRING
        description: ""
        name: meta_currency_quote
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29eb2aa0-046a-4641-9439-7b0c51b6cdb2
                stepCounter: 98546d1a-ef43-4254-ac85-76fa48965637
            transform: "\"RAW_FOREX\".\"CONTENT\":\"meta\".\"currency_quote\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 24ec8bd5-41d6-464d-9bbf-ae56792d5c90
          stepCounter: af4b6a35-6e90-4b10-80bd-2b626a2e8841
        config: {}
        dataType: STRING
        description: ""
        name: meta_interval
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29eb2aa0-046a-4641-9439-7b0c51b6cdb2
                stepCounter: 98546d1a-ef43-4254-ac85-76fa48965637
            transform: "\"RAW_FOREX\".\"CONTENT\":\"meta\".\"interval\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 3fa6492e-8010-47d4-9b3a-0533b23a69bf
          stepCounter: af4b6a35-6e90-4b10-80bd-2b626a2e8841
        config: {}
        dataType: STRING
        description: ""
        name: meta_symbol
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29eb2aa0-046a-4641-9439-7b0c51b6cdb2
                stepCounter: 98546d1a-ef43-4254-ac85-76fa48965637
            transform: "\"RAW_FOREX\".\"CONTENT\":\"meta\".\"symbol\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 22e83aab-a8fb-4fdb-a772-b9beab1c854a
          stepCounter: af4b6a35-6e90-4b10-80bd-2b626a2e8841
        config: {}
        dataType: STRING
        description: ""
        name: meta_type
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29eb2aa0-046a-4641-9439-7b0c51b6cdb2
                stepCounter: 98546d1a-ef43-4254-ac85-76fa48965637
            transform: "\"RAW_FOREX\".\"CONTENT\":\"meta\".\"type\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: b623a37c-ebcf-4717-9513-350e0865b12d
          stepCounter: af4b6a35-6e90-4b10-80bd-2b626a2e8841
        config: {}
        dataType: STRING
        description: ""
        name: status
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29eb2aa0-046a-4641-9439-7b0c51b6cdb2
                stepCounter: 98546d1a-ef43-4254-ac85-76fa48965637
            transform: "\"RAW_FOREX\".\"CONTENT\":\"status\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 934a9650-c5e2-4c26-afb1-4c07764e931f
          stepCounter: af4b6a35-6e90-4b10-80bd-2b626a2e8841
        config: {}
        dataType: STRING
        description: ""
        name: values_close
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29eb2aa0-046a-4641-9439-7b0c51b6cdb2
                stepCounter: 98546d1a-ef43-4254-ac85-76fa48965637
            transform: "\"CONTENT_values\".value:\"close\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 562aef9c-6437-4270-8d96-454edb54e466
          stepCounter: af4b6a35-6e90-4b10-80bd-2b626a2e8841
        config: {}
        dataType: STRING
        description: ""
        name: values_datetime
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29eb2aa0-046a-4641-9439-7b0c51b6cdb2
                stepCounter: 98546d1a-ef43-4254-ac85-76fa48965637
            transform: "\"CONTENT_values\".value:\"datetime\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 0d2bf9bc-8b95-4341-8f8d-f2ccf7bb3a09
          stepCounter: af4b6a35-6e90-4b10-80bd-2b626a2e8841
        config: {}
        dataType: STRING
        description: ""
        name: values_high
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29eb2aa0-046a-4641-9439-7b0c51b6cdb2
                stepCounter: 98546d1a-ef43-4254-ac85-76fa48965637
            transform: "\"CONTENT_values\".value:\"high\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: b82e36b5-25fa-4eb8-b329-c900282697c3
          stepCounter: af4b6a35-6e90-4b10-80bd-2b626a2e8841
        config: {}
        dataType: STRING
        description: ""
        name: values_low
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29eb2aa0-046a-4641-9439-7b0c51b6cdb2
                stepCounter: 98546d1a-ef43-4254-ac85-76fa48965637
            transform: "\"CONTENT_values\".value:\"low\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 1d3fc702-394e-4ef4-bd58-172c824b291d
          stepCounter: af4b6a35-6e90-4b10-80bd-2b626a2e8841
        config: {}
        dataType: STRING
        description: ""
        name: values_open
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 29eb2aa0-046a-4641-9439-7b0c51b6cdb2
                stepCounter: 98546d1a-ef43-4254-ac85-76fa48965637
            transform: "\"CONTENT_values\".value:\"open\"::STRING"
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          RAW_FOREX: 98546d1a-ef43-4254-ac85-76fa48965637
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE
            nodeName: RAW_FOREX
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE', 'RAW_FOREX') }} "RAW_FOREX", 
            lateral flatten(input => "CONTENT":"values", OUTER => TRUE) "CONTENT_values" where "status" = 'ok'
        name: STG_FOREX
        noLinkRefs: []
  name: STG_FOREX
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
