fileVersion: 1
id: f49b0191-0e6e-467c-9efb-d49e3d52197a
name: STG_RAW_STOCKS_TEST
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: TARGET
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: b6c363e8-26cf-40fd-a019-0cbc49df7005
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: meta_currency
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"currency\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 3921c976-2eaf-49cc-adbb-5b588893658c
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: meta_exchange
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"exchange\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: cab70f2e-eb90-4f56-85f7-c3b8c5c53366
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: meta_exchange_timezone
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"exchange_timezone\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 31f8f1cb-97b1-4f35-9af9-26986d5ed48c
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: meta_interval
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"interval\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: a3342f26-dfe1-4853-8599-8f57d38cbd2e
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: meta_mic_code
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"mic_code\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: fd0dc724-53ef-4b01-992e-4caae10c2f7c
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: meta_symbol
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"symbol\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: e040599b-9d99-4b9a-85c2-2287cb5c1e03
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: meta_type
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"meta\".\"type\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: c0698eee-bc1b-4019-9ff4-768bfad5d650
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: status
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"RAW_STOCKS\".\"CONTENT\":\"status\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 6fb64201-8eea-46cd-afe2-d7f3f6f123aa
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: values_close
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"close\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 2917b4c1-eb0d-44fd-a0e8-edf1c500eb89
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: values_datetime
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"datetime\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 52d82428-eca1-4590-9aa7-f5f1c014b402
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: values_high
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"high\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: a6a7716a-7f23-41db-816e-333e0900cd88
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: values_low
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"low\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: a8108dae-c72f-4505-97b1-d1afbf077092
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: values_open
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"open\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 3db93676-aee6-451d-bf71-8b1244bf9cae
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        description: ""
        name: values_volume
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 445f7a9a-c8df-4ec9-b6a7-4dad40ed21d1
                stepCounter: b86b7204-0b4c-47a9-be7d-e259cbaa898a
            transform: "\"CONTENT_values\".value:\"volume\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 027c5d63-89af-4092-b49d-b147e0657c39
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        defaultValue: ""
        description: ""
        keyColumnType: None
        name: meta_currency_base
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
        systemColumnType: None
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 112a77eb-e707-42c4-86e7-426c539f39d4
          stepCounter: f49b0191-0e6e-467c-9efb-d49e3d52197a
        config: {}
        dataType: STRING
        defaultValue: ""
        description: ""
        keyColumnType: None
        name: meta_currency_quote
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: "0"
                stepCounter: "0"
            transform: ""
        systemColumnType: None
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          RAW_STOCKS: b86b7204-0b4c-47a9-be7d-e259cbaa898a
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: SOURCE
            nodeName: RAW_STOCKS
        join:
          joinCondition: |-
            FROM {{ ref('SOURCE', 'RAW_STOCKS') }} "RAW_STOCKS", 
            lateral flatten(input => "CONTENT":"values", OUTER => TRUE) "CONTENT_values" where "status"='ok' 
        name: STG_RAW_STOCKS_TEST
        noLinkRefs: []
  name: STG_RAW_STOCKS_TEST
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
